{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/merin/dashboard-apps/inst/frontend/pages/apps/github.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport gql from 'graphql-tag';\nimport Head from 'next/head';\nimport { GoStar } from 'react-icons/go';\nimport { Row, Col } from 'react-flexbox-grid';\nimport { Block } from 'baseui/block';\nimport { Button } from 'baseui/button';\nimport { Search } from 'baseui/icon';\nimport { Input } from 'baseui/input';\nimport { Tag } from 'baseui/tag';\nimport Container from '../../components/UiElements/Container/Container';\nimport ListGridCard from '../../components/UiElements/ListGridCard/ListGridCard';\nimport AppsMenu from '../../components/SideMenu/AppsMenu';\nimport { withApollo } from '../../apollo/github.client';\nimport { useQuery } from '@apollo/react-hooks';\nconst GetRepositoriesBySearch = gql`\n  query SearchRepositories($queryString: String!) {\n    search(query: $queryString, type: REPOSITORY, first: 10) {\n      repositoryCount\n      edges {\n        node {\n          ... on Repository {\n            id\n            name\n            nameWithOwner\n            description\n            repositoryTopics(first: 5) {\n              nodes {\n                id\n                topic {\n                  id\n                  name\n                }\n              }\n            }\n            stargazers {\n              totalCount\n            }\n            forks {\n              totalCount\n            }\n            updatedAt\n          }\n        }\n      }\n    }\n  }\n`;\nconst TITLE = 'Github Search';\nconst INITIAL_SEARCH_TEXT = 'react';\n\nconst Github = () => {\n  const [searchText, setSearchText] = React.useState(INITIAL_SEARCH_TEXT);\n  const {\n    data,\n    loading,\n    error,\n    refetch\n  } = useQuery(GetRepositoriesBySearch, {\n    variables: {\n      queryString: INITIAL_SEARCH_TEXT\n    }\n  });\n  if (loading) return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Loading...\");\n  if (error) return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Error! $\", error.message);\n  console.log(data, loading, error, 'error git');\n\n  function onSearch(e) {\n    console.log(e);\n    e.preventDefault();\n    refetch({\n      queryString: searchText\n    });\n  }\n\n  function After() {\n    return __jsx(Block, {\n      overrides: {\n        Block: {\n          style: ({\n            $theme\n          }) => {\n            return {\n              display: 'flex',\n              alignItems: 'center',\n              paddingLeft: $theme.sizing.scale500,\n              paddingRight: $theme.sizing.scale500\n            };\n          }\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, __jsx(Search, {\n      size: \"24px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }));\n  }\n\n  const {\n    repositoryCount,\n    edges\n  } = data && data.search;\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, __jsx(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, TITLE, \" | INST.\"), __jsx(\"meta\", {\n    name: \"Description\",\n    content: \"Inst Github app\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })), __jsx(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, __jsx(Block, {\n    paddingTop: ['15px', '20px', '30px', '40px'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, __jsx(Col, {\n    lg: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(AppsMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })), __jsx(Col, {\n    lg: 9,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(Block, {\n    paddingTop: ['10px', '10px', 0],\n    paddingBottom: \"25px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, __jsx(Block, {\n    as: \"h3\",\n    overrides: {\n      Block: {\n        style: ({\n          $theme\n        }) => {\n          return _objectSpread({}, $theme.typography.font450, {\n            color: $theme.colors.primary,\n            marginBottom: '10px'\n          });\n        }\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, TITLE), __jsx(Block, {\n    as: \"p\",\n    overrides: {\n      Block: {\n        style: ({\n          $theme\n        }) => {\n          return _objectSpread({}, $theme.typography.font200, {\n            color: $theme.colors.primary600\n          });\n        }\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, __jsx(Block, {\n    as: \"span\",\n    overrides: {\n      Block: {\n        style: ({\n          $theme\n        }) => {\n          return {\n            color: $theme.colors.primary,\n            marginRight: '5px'\n          };\n        }\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, repositoryCount))), __jsx(Block, {\n    overrides: {\n      Block: {\n        style: ({\n          $theme\n        }) => {\n          return {\n            paddingBottom: '40px',\n            borderBottom: `1px solid ${$theme.colors.primary100}`,\n            '@media only screen and (max-width: 991px)': {\n              paddingBottom: '30px'\n            }\n          };\n        }\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: onSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, __jsx(Input, {\n    overrides: {\n      After\n    },\n    placeholder: \"Search\",\n    value: searchText,\n    onChange: e => setSearchText(e.target.value) // onKeyPress={onSearch}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }))), edges.map(({\n    node\n  }) => __jsx(Block, {\n    key: `github-repo--key${node.id}`,\n    overrides: {\n      Block: {\n        style: ({\n          $theme\n        }) => {\n          return {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            paddingTop: '23px',\n            paddingBottom: '20px',\n            borderBottom: `1px solid ${$theme.colors.primary100}`\n          };\n        }\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, __jsx(ListGridCard, {\n    title: node.nameWithOwner,\n    description: node.description,\n    btn: node.repositoryTopics.nodes.map(item => __jsx(Tag, {\n      key: item.id,\n      overrides: {\n        Root: {\n          style: {\n            marginTop: '15px'\n          }\n        }\n      },\n      closeable: false,\n      variant: \"solid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, item.topic.name)),\n    style: {\n      alignItems: 'flex-start'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }), __jsx(Button, {\n    kind: \"secondary\",\n    overrides: {\n      BaseButton: {\n        style: ({\n          $theme\n        }) => {\n          return _objectSpread({\n            minWidth: '80px',\n            justifyContent: 'space-around',\n            flexShrink: 0\n          }, $theme.typography.font250);\n        }\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, __jsx(GoStar, {\n    style: {\n      flexShrink: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }), __jsx(Block, {\n    paddingLeft: \"5px\",\n    paddingRight: \"5px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, node.stargazers.totalCount)))))))));\n};\n\nexport default withApollo(Github);","map":{"version":3,"sources":["/Users/merin/dashboard-apps/inst/frontend/pages/apps/github.tsx"],"names":["React","gql","Head","GoStar","Row","Col","Block","Button","Search","Input","Tag","Container","ListGridCard","AppsMenu","withApollo","useQuery","GetRepositoriesBySearch","TITLE","INITIAL_SEARCH_TEXT","Github","searchText","setSearchText","useState","data","loading","error","refetch","variables","queryString","message","console","log","onSearch","e","preventDefault","After","style","$theme","display","alignItems","paddingLeft","sizing","scale500","paddingRight","repositoryCount","edges","search","typography","font450","color","colors","primary","marginBottom","font200","primary600","marginRight","paddingBottom","borderBottom","primary100","target","value","map","node","id","justifyContent","paddingTop","nameWithOwner","description","repositoryTopics","nodes","item","Root","marginTop","topic","name","BaseButton","minWidth","flexShrink","font250","stargazers","totalCount"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { NextPage } from 'next';\nimport gql from 'graphql-tag';\n\nimport Head from 'next/head';\nimport { GoStar } from 'react-icons/go';\nimport { Row, Col } from 'react-flexbox-grid';\nimport { Block } from 'baseui/block';\nimport { Button } from 'baseui/button';\nimport { Search } from 'baseui/icon';\nimport { Input } from 'baseui/input';\nimport { Tag } from 'baseui/tag';\nimport Container from '../../components/UiElements/Container/Container';\nimport ListGridCard from '../../components/UiElements/ListGridCard/ListGridCard';\nimport AppsMenu from '../../components/SideMenu/AppsMenu';\nimport { withApollo } from '../../apollo/github.client';\nimport { useQuery } from '@apollo/react-hooks';\n\nconst GetRepositoriesBySearch = gql`\n  query SearchRepositories($queryString: String!) {\n    search(query: $queryString, type: REPOSITORY, first: 10) {\n      repositoryCount\n      edges {\n        node {\n          ... on Repository {\n            id\n            name\n            nameWithOwner\n            description\n            repositoryTopics(first: 5) {\n              nodes {\n                id\n                topic {\n                  id\n                  name\n                }\n              }\n            }\n            stargazers {\n              totalCount\n            }\n            forks {\n              totalCount\n            }\n            updatedAt\n          }\n        }\n      }\n    }\n  }\n`;\nconst TITLE = 'Github Search';\nconst INITIAL_SEARCH_TEXT = 'react';\nconst Github: NextPage<{}> = () => {\n  const [searchText, setSearchText] = React.useState(INITIAL_SEARCH_TEXT);\n  const { data, loading, error, refetch } = useQuery(GetRepositoriesBySearch, {\n    variables: {\n      queryString: INITIAL_SEARCH_TEXT,\n    },\n  });\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error! ${error.message}</div>;\n  console.log(data, loading, error, 'error git');\n  function onSearch(e: any) {\n    console.log(e);\n    e.preventDefault();\n    refetch({ queryString: searchText });\n  }\n  function After() {\n    return (\n      <Block\n        overrides={{\n          Block: {\n            style: ({ $theme }) => {\n              return {\n                display: 'flex',\n                alignItems: 'center',\n                paddingLeft: $theme.sizing.scale500,\n                paddingRight: $theme.sizing.scale500,\n              };\n            },\n          },\n        }}\n      >\n        <Search size=\"24px\" />\n      </Block>\n    );\n  }\n  const { repositoryCount, edges } = data && data.search;\n  return (\n    <>\n      <Head>\n        <title>{TITLE} | INST.</title>\n        <meta name=\"Description\" content=\"Inst Github app\" />\n      </Head>\n\n      <Container>\n        <Block paddingTop={['15px', '20px', '30px', '40px']}>\n          <Row>\n            <Col lg={3}>\n              <AppsMenu />\n            </Col>\n            <Col lg={9}>\n              <Block paddingTop={['10px', '10px', 0]} paddingBottom=\"25px\">\n                <Block\n                  as=\"h3\"\n                  overrides={{\n                    Block: {\n                      style: ({ $theme }) => {\n                        return {\n                          ...$theme.typography.font450,\n                          color: $theme.colors.primary,\n                          marginBottom: '10px',\n                        };\n                      },\n                    },\n                  }}\n                >\n                  {TITLE}\n                </Block>\n                <Block\n                  as=\"p\"\n                  overrides={{\n                    Block: {\n                      style: ({ $theme }) => {\n                        return {\n                          ...$theme.typography.font200,\n                          color: $theme.colors.primary600,\n                        };\n                      },\n                    },\n                  }}\n                >\n                  <Block\n                    as=\"span\"\n                    overrides={{\n                      Block: {\n                        style: ({ $theme }) => {\n                          return {\n                            color: $theme.colors.primary,\n                            marginRight: '5px',\n                          };\n                        },\n                      },\n                    }}\n                  >\n                    {repositoryCount}\n                  </Block>\n                </Block>\n              </Block>\n\n              <Block\n                overrides={{\n                  Block: {\n                    style: ({ $theme }) => {\n                      return {\n                        paddingBottom: '40px',\n                        borderBottom: `1px solid ${$theme.colors.primary100}`,\n                        '@media only screen and (max-width: 991px)': {\n                          paddingBottom: '30px',\n                        },\n                      };\n                    },\n                  },\n                }}\n              >\n                <form onSubmit={onSearch}>\n                  <Input\n                    overrides={{ After }}\n                    placeholder=\"Search\"\n                    value={searchText}\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                      setSearchText(e.target.value)\n                    }\n                    // onKeyPress={onSearch}\n                  />\n                </form>\n              </Block>\n\n              {edges.map(({ node }: any) => (\n                <Block\n                  key={`github-repo--key${node.id}`}\n                  overrides={{\n                    Block: {\n                      style: ({ $theme }) => {\n                        return {\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'space-between',\n                          paddingTop: '23px',\n                          paddingBottom: '20px',\n                          borderBottom: `1px solid ${$theme.colors.primary100}`,\n                        };\n                      },\n                    },\n                  }}\n                >\n                  <ListGridCard\n                    title={node.nameWithOwner}\n                    description={node.description}\n                    btn={node.repositoryTopics.nodes.map((item: any) => (\n                      <Tag\n                        key={item.id}\n                        overrides={{\n                          Root: {\n                            style: {\n                              marginTop: '15px',\n                            },\n                          },\n                        }}\n                        closeable={false}\n                        variant=\"solid\"\n                      >\n                        {item.topic.name}\n                      </Tag>\n                    ))}\n                    style={{\n                      alignItems: 'flex-start',\n                    }}\n                  />\n                  <Button\n                    kind=\"secondary\"\n                    overrides={{\n                      BaseButton: {\n                        style: ({ $theme }) => {\n                          return {\n                            minWidth: '80px',\n                            justifyContent: 'space-around',\n                            flexShrink: 0,\n                            ...$theme.typography.font250,\n                          };\n                        },\n                      },\n                    }}\n                  >\n                    <GoStar style={{ flexShrink: 0 }} />\n                    <Block paddingLeft=\"5px\" paddingRight=\"5px\">\n                      {node.stargazers.totalCount}\n                    </Block>\n                  </Button>\n                </Block>\n              ))}\n            </Col>\n          </Row>\n        </Block>\n      </Container>\n    </>\n  );\n};\n\nexport default withApollo(Github);\n"]},"metadata":{},"sourceType":"module"}